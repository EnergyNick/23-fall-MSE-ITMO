:toc:
:lang: ru-RU
:source-highlighter: rouge
:stem: asciimath

= Ответы к экзамену по с/к "Виртуальные машины", 2023-2024

image::media/2024-01-15-16-19-41.png[]

== Интерпретация
=== 1.1. Интерпретация. Виды интерпретаторов. Компоненты итеративного интерпретатора.

==== Интерпретация
#Интерпретация# – это механизм непосредственного исполнения отдельных
языковых элементов (строк, лексем, команд) программ

Исходный текст высокоуровневых программ на ВМ компилируется (мб неявной динамической) в промежуточное представление (#ПП#)

==== Виды интерпретаторов
[cols="1,2,2"]
|===
|Интерпретатор
|Рекурсивный
|Итеративный


|Выполнение
|Обходит код, рекурсивно вызывая себя
|Перебирает инструкции последовательно в цикле

|Вызов подпрограммы
|вызывает себя c подпрограммой и параметрами её вызова
| формирует новую секцию в стеке вызовов, меняет указатель текущей инструкции, продолжает выполнение цикла

|Параметры и результаты передаются…
|… непосредственно при вызове 
|… в виртуальных регистрах или на стеке операндов

|Применяется для ПП в виде…
|…текста, деревьев или графа
|…потока, последовательности или массива инструкций (линейных кодов)
|===

==== Компоненты итеративного интерпретатора



=== 1.2. Представление виртуальных инструкций. Передача параметров инструкциям.
=== 1.3. Виды линейных кодов.
=== 1.4. Непосредственные операнды. Кодирование. Литеральный пул.
=== 1.5. Записи активации. Секции стека вызовов.
=== 1.6. Организация стека вызовов
=== 1.7. Нативный интерфейс виртуальной машины. Доступ к данным.
=== 1.8. Кэширование вершины стека операндов.
=== 1.9. Оптимизации при преобразовании распространяемого кода в исполняемый. Специализация инструкций по непосредственным операндам. Замена идиом на супер-инструкции.
=== 1.10. Оптимизации при преобразовании распространяемого кода в исполняемый. Макроподстановка вызовов простых функций.
=== 1.11. Оптимизации кода интерпретатором. Quickening. Специализация инструкций по инвариантам состояния.
=== 1.12. Макроподстановка вызовов простых функций в интерпретаторе.
=== 1.13. Сокрытие переписывания кода интерпретатором.
== Компиляция
=== 2.1. Компиляция статическая, динамическая и комбинированная.
=== 2.2. Варианты динамической компиляции. Динамическая адаптивная компиляция.
=== 2.3. Синхронная, асинхронная и параллельная динамическая компиляция. Консистентность порожденного кода.
=== 2.4. Планирование асинхронных компиляций.
=== 2.5. Динамическое профилирование и предсказание активности интерпретируемого и скомпилированного кода.
=== 2.6. Организация переходов между интерпретируемым и скомпилированным вариантами кода с сохранением состояния (On-Stack Replacement)
=== 2.7. Выбор оптимизаций для динамического компилятора.
=== 2.8. Девиртуализация вызовов.
=== 2.9. Защищенные и незащищенные спекулятивные преобразования.
=== 2.10. Спекулятивная девиртуализация вызовов.
=== 2.11. Локализация объектов.
=== 2.12. Макроподстановка объектов.
=== 2.13. Способы быстрого эвристического  распределения регистров.
=== 2.14. Распределение регистров методом линейного сканирования.
=== 2.15. Однопроходная компиляция путем абстрактной интерпретации. Ветвление и слияние потоков управления.
=== 2.16. Оптимизации однопроходного динамического компилятора.
