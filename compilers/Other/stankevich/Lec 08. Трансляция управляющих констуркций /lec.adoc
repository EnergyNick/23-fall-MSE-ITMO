= Трансляция управляющих конструкций 

инструкция в ассемблерном коде -- задается кодом операции `opcode`.

Есть регистр, который указываем на текущую инструкцию

* безусловный переход -- переход на метку
* условный переход -- переход на метку при выполнении условия (значения регистра флагов: zero, greater, less для последней операции)

== Условный переход

Если есть регистр флагов 

image::media/flags.png[]

Если нет регистра флагов 

image::media/no_flags.png[]

== Проблема else

image::media/gramm_else.png[]

Это не LL(1). Избавимся от него. Но это не поможет, если посчитать first   

image::media/gram_else_ll.png[]

Успростим 

image::media/gram_else_simple.png[]

Грамматика не однозначна! Поэтому она ни LL, ни LR 

image::media/gramm.png[]

С этим помогут фигурные скобочки! Но зачем закручивать гайки, если можно переписать грамматику. 

image::media/gram_prior.png[]

Здесь приоритет вывода всегда самому вложенному else 

== Трансляция else 
Код транслятора

image::media/trans_else.png[]

Грамматика оттранслируется в следующий код

image::media/else_asm.png[]

== Трансляция while 
image::media/trans_while.png[]

== Трансляция for 
image::media/trans_for.png[] 

== Трансляция функций 
* аргументы кладем в стек (порядок не важен, главное чтобы был согласован в рамках компилятора)

CAL - call argument list 

image::media/trans_args.png[]